{"version":3,"file":"static/js/88.9d583673.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","servises/themoviedbAPI.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__0Owr9\",\"item\":\"MoviesList_item__eePYv\",\"link\":\"MoviesList_link__8rTGX\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './MoviesList.module.css';\n\nconst MoviesList = ({ searchedMovies }) => {\n  const location = useLocation();\n  // console.log(location);\n  return (\n    <ul className={css.list}>\n      {searchedMovies &&\n        searchedMovies.map(({ id, title, name }) => {\n          return (\n            <li key={id} className={css.item}>\n              <Link\n                className={css.link}\n                state={{ from: location }}\n                key={id}\n                to={`/movies/${id}`}\n              >\n                {!title ? name : title}\n              </Link>\n            </li>\n          );\n        })}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"Movies_searchForm__J4-xw\"};","import Loader from 'components/Loader/Loader';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Notify } from 'notiflix';\nimport { fetchSearchByKeyWord } from 'servises/themoviedbAPI';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchedMovies, setSearchedMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  //Значення з пошукового параметру, який записується в ключ query\n  const [searchParams, setSearchParams] = useSearchParams();\n  const queryValue = searchParams.get('query');\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    const value = e.currentTarget.elements.searchKey.value;\n\n    //Зміна обєкту пошукових параметрів після сабміту форми\n    setSearchParams({ query: value });\n  };\n\n  useEffect(() => {\n    if (!queryValue) return;\n\n    const fetchFilmByWord = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        await fetchSearchByKeyWord(queryValue).then(results =>\n          setSearchedMovies(results)\n        );\n\n        // if (searchedMovies.length === 0) {\n        //   return Notify.warning(\n        //     'Sorry, there are no movies matching your search query. Please try again.'\n        //   );\n        // }\n        const newQueryValue = queryValue.trim();\n        if (!newQueryValue) {\n          return Notify.warning('Please, fill the main field');\n        }\n      } catch {\n        setError(error);\n        Notify.failure('Oops, something went wrong!');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchFilmByWord();\n  }, [error, queryValue]);\n\n  return (\n    <>\n      {loading && <Loader />}\n\n      <form className={css.searchForm} onSubmit={onFormSubmit}>\n        <label className={css.label}>\n          <input\n            type=\"text\"\n            required\n            placeholder=\"Search movie\"\n            name=\"searchKey\"\n          />\n        </label>\n        <button type=\"submit\">search</button>\n      </form>\n      {searchedMovies && <MoviesList searchedMovies={searchedMovies} />}\n    </>\n  );\n};\n\nexport default Movies;\n\n// const {\n//   data: { results, total_results },\n// } = await axios.get(\n//   `search/movie?include_adult=false&api_key=${API_KEY}&language=en-US&page=1&query=${queryValue}`\n// );\n// setSearchedMovies(results);\n\n// const location = useLocation();\n// console.log('First location', location);\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst API_KEY = '0bd778e99c9dd0be4a5a446585adfec9';\n\nexport const fetchTrending = async () => {\n  const { data } = await axios.get(\n    `trending/all/day?api_key=${API_KEY}&language=en-US`\n  );\n  return data.results;\n};\n\nexport const fetchSelectedTrending = async movieId => {\n  const { data } = await axios.get(\n    `movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};\n\nexport const fetchCast = async movieId => {\n  const { data } = await axios.get(\n    `movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return data.cast;\n};\n\nexport const fetchReviews = async movieId => {\n  const { data } = await axios.get(\n    `movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return data.results;\n};\n\nexport const fetchSearchByKeyWord = async keyword => {\n  const { data } = await axios.get(\n    `search/movie?include_adult=false&api_key=${API_KEY}&language=en-US&page=1&query=${keyword}`\n  );\n  return data.results;\n};\n"],"names":["_ref","searchedMovies","location","useLocation","_jsx","className","css","children","map","_ref2","id","title","name","Link","state","from","to","concat","_useState","useState","_useState2","_slicedToArray","setSearchedMovies","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","queryValue","get","useEffect","fetchFilmByWord","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","fetchSearchByKeyWord","then","results","trim","abrupt","Notify","t0","finish","stop","apply","arguments","_jsxs","_Fragment","Loader","onSubmit","e","preventDefault","value","currentTarget","elements","searchKey","query","type","required","placeholder","MoviesList","axios","API_KEY","fetchTrending","_yield$axios$get","data","sent","fetchSelectedTrending","_callee2","movieId","_yield$axios$get2","_context2","_x","fetchCast","_ref3","_callee3","_yield$axios$get3","_context3","cast","_x2","fetchReviews","_ref4","_callee4","_yield$axios$get4","_context4","_x3","_ref5","_callee5","keyword","_yield$axios$get5","_context5","_x4"],"sourceRoot":""}