{"version":3,"file":"static/js/88.8758e2af.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","servises/themoviedbAPI.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"MoviesList_list__0Owr9\",\"item\":\"MoviesList_item__eePYv\",\"link\":\"MoviesList_link__8rTGX\"};","import { Link, useLocation } from 'react-router-dom';\nimport css from './MoviesList.module.css';\n\nconst MoviesList = ({ searchedMovies }) => {\n  const location = useLocation();\n  return (\n    <ul className={css.list}>\n      {searchedMovies &&\n        searchedMovies.map(({ id, title, name }) => {\n          return (\n            <li key={id} className={css.item}>\n              <Link\n                className={css.link}\n                state={{ from: location }}\n                key={id}\n                to={`/movies/${id}`}\n              >\n                {!title ? name : title}\n              </Link>\n            </li>\n          );\n        })}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"searchForm\":\"Movies_searchForm__J4-xw\",\"notification\":\"Movies_notification__z3WqP\"};","import Loader from 'components/Loader/Loader';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Notify } from 'notiflix';\nimport { fetchSearchByKeyWord } from 'servises/themoviedbAPI';\nimport css from './Movies.module.css';\n\nconst Movies = () => {\n  const [searchedMovies, setSearchedMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [noMoviesText, setNoMoviesText] = useState(false);\n\n  //Значення з пошукового параметру, який записується в ключ query\n  const [searchParams, setSearchParams] = useSearchParams();\n  const queryValue = searchParams.get('query');\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    const value = e.currentTarget.elements.searchKey.value;\n\n    //Зміна обєкту пошукових параметрів після сабміту форми\n    setSearchParams({ query: value });\n  };\n\n  useEffect(() => {\n    if (!queryValue) return;\n\n    const fetchFilmByWord = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        await fetchSearchByKeyWord(queryValue).then(results => {\n          setSearchedMovies(results);\n          setNoMoviesText(results.length === 0);\n        });\n\n        // if (searchedMovies.length === 0) {\n        //   return Notify.warning(\n        //     'Sorry, there are no movies matching your search query. Please try again.'\n        //   );\n        // }\n\n        const newQueryValue = queryValue.trim();\n        if (!newQueryValue) {\n          return Notify.warning('Please, fill the main field');\n        }\n      } catch {\n        setError(error);\n        Notify.failure('Oops, something went wrong!');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchFilmByWord();\n  }, [error, queryValue]);\n\n  return (\n    <>\n      {loading && <Loader />}\n      <form className={css.searchForm} onSubmit={onFormSubmit}>\n        <label className={css.label}>\n          <input\n            type=\"text\"\n            required\n            placeholder=\"Search movie\"\n            name=\"searchKey\"\n          />\n        </label>\n        <button type=\"submit\">search</button>\n      </form>\n      {noMoviesText && (\n        <p className={css.notification}>\n          Sorry, there are no movies matching your search query. Please try\n          again.\n        </p>\n      )}\n      {searchedMovies && <MoviesList searchedMovies={searchedMovies} />}\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nconst API_KEY = '0bd778e99c9dd0be4a5a446585adfec9';\n\nexport const fetchTrending = async () => {\n  const { data } = await axios.get(\n    `trending/all/day?api_key=${API_KEY}&language=en-US`\n  );\n  return data.results;\n};\n\nexport const fetchSelectedTrending = async movieId => {\n  const { data } = await axios.get(\n    `movie/${movieId}?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};\n\nexport const fetchCast = async movieId => {\n  const { data } = await axios.get(\n    `movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return data.cast;\n};\n\nexport const fetchReviews = async movieId => {\n  const { data } = await axios.get(\n    `movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n  );\n  return data.results;\n};\n\nexport const fetchSearchByKeyWord = async keyword => {\n  const { data } = await axios.get(\n    `search/movie?include_adult=false&api_key=${API_KEY}&language=en-US&page=1&query=${keyword}`\n  );\n  return data.results;\n};\n"],"names":["_ref","searchedMovies","location","useLocation","_jsx","className","css","children","map","_ref2","id","title","name","Link","state","from","to","concat","_useState","useState","_useState2","_slicedToArray","setSearchedMovies","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_useState7","_useState8","noMoviesText","setNoMoviesText","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","queryValue","get","useEffect","fetchFilmByWord","_asyncToGenerator","_regeneratorRuntime","_callee","_context","prev","next","fetchSearchByKeyWord","then","results","length","trim","abrupt","Notify","t0","finish","stop","apply","arguments","_jsxs","_Fragment","Loader","onSubmit","e","preventDefault","value","currentTarget","elements","searchKey","query","type","required","placeholder","MoviesList","axios","API_KEY","fetchTrending","_yield$axios$get","data","sent","fetchSelectedTrending","_callee2","movieId","_yield$axios$get2","_context2","_x","fetchCast","_ref3","_callee3","_yield$axios$get3","_context3","cast","_x2","fetchReviews","_ref4","_callee4","_yield$axios$get4","_context4","_x3","_ref5","_callee5","keyword","_yield$axios$get5","_context5","_x4"],"sourceRoot":""}